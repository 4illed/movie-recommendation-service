## **Описание**

Необходимо реализовать веб-сервис, который составляет для пользователей персонализированные рекомендации фильмов. Система включает в себя следующие типы запросов:

- **GET /movies** — возвращает список всех фильмов;
- **POST /movies** — добавляет новый фильм;
- **GET /recommendations** — возвращает список популярных фильмов;
- **POST /recommendations/genre** — составляет список фильмов указанного жанра;
- **POST /recommendations/favorite** — подбирает фильмы на основе предпочтений пользователя;
- **GET /movies/\<title\>** — ищет информацию о фильме по названию.

**Сервис должен:**

- использовать Flask для обработки запросов;
- работать с двумя типами запросов: **GET** и **POST**;
- покрывать проект unit-тестами для проверки логики работы сервиса и запросов.


**Пример ответа на GET/POST-запрос:** 

```json
{
  "popular_movies": [
    {"title": "Inception", "genre": "Sci-Fi"},
    {"title": "The Dark Knight", "genre": "Action"},
    {"title": "Interstellar", "genre": "Sci-Fi"},
    {"title": "The Matrix", "genre": "Sci-Fi"},
    {"title": "Avengers: Endgame", "genre": "Action"}
  ]
}
```

## **Распределение задач в команде**

| Разработчик    | Функционал                          | Описание                                             | Методы                         |
|----------------|-------------------------------------|-----------------------------------------------------|--------------------------------|
| Разработчик 1  | Управление фильмами                 | Получение списка всех фильмов                        | GET /movies                    |
|                | Добавление фильма                   | Добавление нового фильма в базу данных               | POST /movies                   |
| Разработчик 2  | Популярные фильмы                   | Получение списка самых популярных фильмов            | GET /recommendations           |
|                | Фильтрация по жанру                 | Рекомендации фильмов по указанному жанру             | POST /recommendations/genre    |
| Разработчик 3  | Подбор фильмов по предпочтениям     | Рекомендации на основе списка любимых фильмов пользователя | POST /recommendations/favorite |
|                | Поиск фильма по названию            | Получение информации о фильме                        | GET /movies/\<title\>          |

## **Тестирование API**

Чтобы API работал стабильно, каждый разработчик пишет **unit-тесты** для своей части функционала.

**Разработчик 1: тестирование управления фильмами**

- Проверка получения списка фильмов (`GET /movies`).
- Проверка добавления нового фильма (`POST /movies`).

**Разработчик 2: тестирование рекомендаций по популярности и жанру**

- Проверка получения списка популярных фильмов (`GET /recommendations`).
- Проверка работы фильтрации фильмов по жанру (`POST /recommendations/genre`).

**Разработчик 3: тестирование поиска фильмов и рекомендаций по предпочтениям**

- Проверка рекомендаций на основе списка любимых фильмов (`POST /recommendations/favorite`).
- Проверка поиска фильма по названию (`GET /movies/<title>`).
- Проверка поведения API при запросе несуществующего фильма.


## Интеграция и работа команды в Git

### **1. Настройка репозитория**

Перед началом работы создайте репозиторий с базовой структурой.

- **Файлы**: `README.md`, `.gitignore`, `requirements.txt`.
- **Структура веток**:
  - `main` — стабильная версия проекта;
  - `develop` — основная рабочая ветка.
  - **Функциональные ветки**:
    - `feature/get-movies` — получение списка фильмов;
    - `feature/post-movies` — добавление фильма;
    - `feature/get-recommendations` — популярные фильмы;
    - `feature/post-recommendations-genre` — рекомендации по жанру;
    - `feature/post-recommendations-favorite` — рекомендации по предпочтениям;
    - `feature/get-movie-title` — поиск фильма по названию.

### **2. Разработка**

Каждый работает в выделенной ветке и отвечает за свой функционал.

| **Разработчик** | **Ветка** | **Функционал**                                                 |
|----|----|----------------------------------------------------------------|
| Разработчик 1 | `feature/get-movies` | GET /movies — получение списка фильмов                         |
| Разработчик 1 | `feature/post-movies` | POST /movies — добавление фильма                               |
| Разработчик 2 | `feature/get-recommendations` | GET /recommendations — популярные фильмы                       |
| Разработчик 2 | `feature/post-recommendations-genre` | POST /recommendations/genre — рекомендации по жанру            |
| Разработчик 3 | `feature/post-recommendations-favorite` | POST /recommendations/favorite — рекомендации по предпочтениям |
| Разработчик 3 | `feature/get-movie-title` | GET /movies/\<title\> — поиск фильма                           |

#### **Перед коммитом каждый разработчик должен:**

- написать **unit-тесты** для своего функционала;
- проверить код линтером (`flake8` или `pylint`);
- создать осмысленный коммит:

```
git commit -m "Фиксация изменений: Добавлен эндпоинт GET /movies"
```

```
git commit -m "Fix changes: Added GET /movies endpoint"
```

### **3. Код-ревью и слияние**

- Создание merge request с описанием изменений.
- Проведение код-ревью на корректность, тесты, стиль.

### **4. Интеграция**

После завершения работы над отдельными модулями нужно выполнить интеграцию системы:

- Объединение всех частей API.
- Проверка работы взаимодействий эндпоинтов.
- **Интеграционные** **тесты**:
  - Проверка запросов к `GET`- и `POST`-эндпоинтам.
  - Проверка совместимости моделей данных.

### **5. Финальное тестирование и релиз**

- Запуск **тестов**, поиск и исправление багов.
- Обновление **README.md** с инструкциями по использованию API.
- Слияние `develop` → `main` и выпуск стабильной версии сервиса.


# Система оценивания

### **1. Реализована функциональность обработки запросов (GET/POST)**

- **GET-запросы: 0–2 балла**
  - **0 баллов** — запрос не реализован.
  - **1 балл** — запрос реализован, но имеет ошибки или неполную функциональность.
  - **2 балла** — запрос полностью реализован, корректно обрабатывает все случаи.
- **POST-запросы: 0–4 балла**
  - **0 баллов** — запрос не реализован или реализован с ошибками.
  - **2 балла** — запрос реализован, но не обрабатывает все возможные ошибки или имеет недостаточную проверку данных.
  - **4 балла** — запрос полностью реализован с проверкой всех возможных случаев (например, успешный ответ, валидация данных, ошибки).

### **2. Реализована логика (рекомендации и поиск)**

- **Функциональность рекомендаций по популярности: 0–2 балла**
  - **0 баллов** — рекомендации не реализованы или работают некорректно.
  - **1 балл** — рекомендации реализованы, но с ограничениями (например, только топ-5 фильмов).
  - **2 балла** — рекомендации реализованы с учётом различных фильтров, корректно возвращаются популярные фильмы.
- **Функциональность рекомендаций по жанру: 0–2 балла**
  - **0 баллов** — функциональность не реализована или имеет ошибки.
  - **1 балл** — рекомендации по жанру работают, но не во всех возможных случаях.
  - **2 балла** — рекомендации по жанру реализованы корректно, все жанры доступны и фильтры работают.
- **Функциональность рекомендаций по предпочтениям пользователя: 0–2 балла**
  - **0 баллов** — подбор фильмов по предпочтениям не реализован или работает некорректно.
  - **1 балл** — подбор фильмов реализован, но фильтры не учитывают все пользовательские предпочтения.
  - **2 балла** — подбор фильмов корректно реализован, с учётом предпочтений пользователя (например, favorite).
- **Поиск фильма по названию: 0–2 балла**
  - **0 баллов** — поиск не работает или возвращает неверные результаты.
  - **1 балл** — поиск работает, но с ошибками, например, не учитывает регистр или частичные совпадения.
  - **2 балла** — поиск работает корректно, возвращает точные результаты, учитывает все возможные запросы.

### **3. Unit-тестирование**

- **Покрытие функционала unit-тестами: 0–4 балла**
  - **0 баллов** — нет unit-тестов.
  - **2 балла** — некоторые запросы покрыты unit-тестами, но не все случаи учтены (например, тесты только для успешных запросов).
  - **4 балла** — все функции покрыты тестами, включая проверку на ошибки и граничные случаи.

### **4. Стандарты кодирования и стиль**

- **Соответствие стилю кодирования: 0–2 балла** 
  - **0 баллов** — код не соответствует стандартам (нет комментариев, нечитаемый код, нет тестов).
  - **1 балл** — код соответствует базовым стандартам, но есть незначительные отклонения (например, не всегда правильно именованы переменные).
  - **2 балла** — код полностью соответствует стандартам (соглашениям по именованию, читаемости, комментариям).

### **5. Интеграционные тесты и взаимодействие компонентов**

- **Проверка взаимодействия между эндпоинтами: 0–4 балла**
  - **0 баллов** — нет интеграционных тестов или они не работают.
  - **2 балла** — интеграционные тесты работают для некоторых частей функционала, но не проверяют все взаимодействия.
  - **4 балла** — все компоненты интегрированы и протестированы, взаимодействие между ними проверено.

### **6. Работа с Git и рабочий процесс**

- **Организация работы в Git: 0–2 балла**
  - **0 баллов** — отсутствует структура веток, нет коммитов или нарушена концепция GitFlow.
  - **1 балл** — ветки структурированы, но есть ошибки в коммитах (неосмысленные сообщения, частые merge-конфликты).
  - **2 балла** — ветки и коммиты организованы по правилам GitFlow, каждый коммит имеет осмысленное сообщение.

### **Максимальное количество баллов: 26**

### Конвертация в 10-балльную оценку

Оценка (10-балльная) = round(набранные баллы (из 26) ÷ 26 ​× 10).

**Таблица преобразования:**

| Баллы (из 26) | Оценка (из 10) |
|----|----|
| 25–26 | 10 |
| 22–24 | 9 |
| 19–21 | 8 |
| 17–18 | 7 |
| 15–16 | 6 |
| 12–14 | 5 |
| 10–11 | 4 |
| 7–9 | 3 |
| 4–6 | 2 |
| 1–3 | 1 |
| 0 | 0 |



